<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml">
<head>
<title>SecureSetup - OpenCT - Trac</title>
<style type="text/css">
           @import url(trac.css);
          </style>
</head>
<body>
<div class="wikipage">
    <div id="searchable">
<h1>Secure Setup</h1>
<p>
OpenCT was designed to be secure by default, and allow system administrators to restrict access to openct in any way.
You have the option to 
</p>
<ul>
<li>install openct so it can be used by everyone.
</li>
<li>limit access to openct to some group.
</li>
<li>limit access to openct to some user.
</li>
</ul>
<p>
The access control is done via setting permissions on /var/run/openct directory.
</p>
<p>
Not that in all setups the first user to access a reader will lock that reader, and no other user will be able
to access the reader till it is unlocked.
</p>
<p>
FIXME: how does locking work? does locking work for processes/connections and the build in module limit access
to the user (all processes) even without a lock command? Is root able to bypass this security?
</p>
<h2>OpenCT for everyone</h2>
<pre class="wiki" xml:space="preserve">chmod -R 0755 /var/run/openct
</pre>
<p>
Note: this setup is used in the <a href="QuickStart.html" shape="rect">QuickStart</a> documentation.
</p>
<h2>OpenCT restricted to some group</h2>
<pre class="wiki" xml:space="preserve">chgrp -R somegrp /var/run/openct
chmod -R 0750 /var/run/openct
</pre>
<p>
Note: Debian uses this configuration by default, so add any user you want to be able to use smart cards
to the scard group.
</p>
<h2>OpenCT restricte to some user</h2>
<pre class="wiki" xml:space="preserve">chown -R someuser /var/run/openct
chmod -R 0700 /var/run/openct
</pre>
<p>
Note: if you use openct with pc/sc-lite, then only pcscd needs to be able to access openct, and all users/application
can use it via pc/sc-lite. In this case the restriction to one user is fine. pcscd usualy runs as root.
</p>
</div>
   </div>
<div class="footer">
<hr/>
<p>
<a href="index.html">Back to Index</a>
</p>
</div>
</body>
</html>
